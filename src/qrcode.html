<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="sortcut icon" href="../media/logoApp.png" type="image/gif"/>
    <link rel="stylesheet" href="./index.css">
  </head>
<body class="text-center" id="">  
  <img class="logo" src="../media/icons/icon.jpeg" alt="Logo Wilson e Sons">
  <h2 class="title-content"> Escaneie o QRCode </h2>

  <div >
     <video class="qrcode" id= 'cam' autoplay="autoplay"  style="transform: scaleX(-1)"></video>
  </div>
  <nav class="nav">
		<a href='./home.html'>
			<img class="icon" src="../media/icons/icons8-casa (1).svg" alt="home"/>
		</a>
		<a href="qrcode.html">
			<img class="icon" src="../media/icons/icons8-código-qr-64.png" alt="qrcode"/>
		</a>
		<a href="./aulas.html">
			<img class="icon" src="../media/icons/icons8-livro-50 (1).png" alt="aulas"/>
		</a>
		<a href="./treinamento.html">
			<img class="icon" src="../media/icons/icons8-pesquisar-64 (1).png" alt="treinamentos"/>
		</a>
	</nav>
 <script type="text/javascript" src="../js/instascan.min.js"></script> 

   <script>   
      const scanner = new Instascan.Scanner({
        video  : document.getElementById('cam'),
        mirror : false
    
      });
    
      scanner.addListener('scan', function(content) {
        console.log("escaneando..")

        window.location= 'video.html#' + content
      });
    
       Instascan.Camera.getCameras().then(cameras => {
         if(cameras.length > 1){
            scanner.start(cameras[1]);
            console.log('rodou o cameras' + cameras.length)

          } else if (cameras.length > 0){
            scanner.start(cameras[0]);
            console.log('rodou o cameras' + cameras.length)
          }        
          else {console.error("Não existe câmera no dispositivo!")}  
        });
   </script>

</body>

</html>
